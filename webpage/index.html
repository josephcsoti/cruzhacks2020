<!doctype html>
<html lang="en">

<head>

  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico">

  <title>Product example for Bootstrap</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/product/">

  <!-- Bootstrap core CSS -->
  <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="product.css" rel="stylesheet">
</head>

<body>

  <nav class="site-header sticky-top py-1">
    <div class="container d-flex flex-column flex-md-row justify-content-between">
      <a class="py-2" href="#">
        <img src="subsaver.png" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round" class="d-block mx-auto">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="14.31" y1="8" x2="20.05" y2="17.94"></line>
        <line x1="9.69" y1="8" x2="21.17" y2="8"></line>
        <line x1="7.38" y1="12" x2="13.12" y2="2.06"></line>
        <line x1="9.69" y1="16" x2="3.95" y2="6.06"></line>
        <line x1="14.31" y1="16" x2="2.83" y2="16"></line>
        <line x1="16.62" y1="12" x2="10.88" y2="21.94"></line></svg>
      </a>
      <a class="py-2 d-none d-md-inline-block" href="#">Tour</a>
      <a class="py-2 d-none d-md-inline-block" href="#">Product</a>
      <a class="py-2 d-none d-md-inline-block" href="#">Features</a>
      <a class="py-2 d-none d-md-inline-block" href="#">Enterprise</a>
      <a class="py-2 d-none d-md-inline-block" href="#">Support</a>
      <a class="py-2 d-none d-md-inline-block" href="#">Pricing</a>
      <a class="py-2 d-none d-md-inline-block" href="#">Cart</a>
    </div>
  </nav>

  <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">

    <!-- <div>

        <div class="container d-flex flex-column flex-md-row justify-content-between">
          <a class="py-1" href="#">
          </a>
          <a class="py-2 d-none d-md-inline-block" href="#">Current</a>
          <a class="py-2 d-none d-md-inline-block" href="#">3 Months</a>
          <a class="py-2 d-none d-md-inline-block" href="#">6 Months</a>
          <a class="py-2 d-none d-md-inline-block" href="#">1 Year</a>
          <a class="py-2 d-none d-md-inline-block" href="#">All Time</a>
        </div>
      </div> -->

    <div class="col-md-10 p-lg-5 mx-auto my-5">
      <p class=display-4> <span id="name"></span>, your streaming cost is</p>
      <h1 class="display-1 font-weight-normal move pad-down" id="avg_color";>$<span id="avgCost"></span><scan class="hour">/ hour</scan></scan></h1>
      <h1 class="display-1 font-weight-normal move">$<span id="Cost"></span>
        <scan class="hour">/month</scan>
      </h1>
    </div>
  </div>

  <div class="d-md-flex flex-md-equal w-100 my-md-0 pl-md-0">
    <div class="bg-dark mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <img src="netflix-logo.png" class="img-fluid" style="width: 60%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="netflix_color";>$<span id="netflix_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="netflix_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_netflix_hours"> </span> hours</h2>
      </div>
    </div>
    <div class="bg-light mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <img src="hulu-logo.png" class="img-fluid" style="width: 80%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="hulu_color";>$<span id="Hulu_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="hulu_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_hulu_hours"></span> hours</h2>
      </div>
    </div>
  </div>

  <div class="d-md-flex flex-md-equal w-100 my-md-0 pl-md-0">
    <div class="bg-light mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <img src="youtube-logo.png" class="img-fluid" style="width: 50%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="youtube_color";>$<span id="youtube_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="youtube_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_youtube_hours"></span> hours</h2>
      </div>
    </div>
    <div class="bg-dark mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <img src="HBO_logo.png" class="img-fluid pad-down" style="width: 80%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="HBO_color";>$<span id="HBO_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="HBO_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_HBO_hours"></span> hours</h2>
      </div>
    </div>
  </div>


  <div class="d-md-flex flex-md-equal w-100 my-md-0 pl-md-0">
    <div class="bg-dark mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 p-3">
        <img src="apple-white-logo.png" class="img-fluid" style="width: 100%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="apple_color";>$<span id="apple_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="apple_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_apple_hours"> hours</span> hours</h2>
      </div>
    </div>
    <div class="bg-light mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 py-3">
        <img src="disney-logo.png" class="img-fluid" style="width: 80%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="disney_color";>$<span id="disney_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="disney_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_disney_hours"></span> hours</h2>
      </div>
    </div>
  </div>


  <div class="d-md-flex flex-md-equal w-100 my-md-0 pl-md-0">
    <div class="bg-light mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <img src="Crunchyroll-Logo.png" class="img-fluid" style="width: 50%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="Crunchyroll_color";>$<span id="Crunchyroll_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="Crunchyroll_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_Crunchyroll_hours"></span> hours</h2>
      </div>
    </div>
    <div class="bg-dark mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center text-white overflow-hidden">
      <div class="my-3 py-3">
        <img src="xfinity-red-logo.png" class="img-fluid pad-down2 pad-up" style="width: 80%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="xfinity_color";>$<span id="xfinity_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="xfinity_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_xfinity_hours"></span> hours</h2>
      </div>
    </div>
  </div>


  <div class="d-md-flex flex-md-equal w-100 my-md-0 pl-md-0">
    <div class="bg-light mr-md-0 pt-0 px-0 pt-md-5 px-md-5 text-center overflow-hidden">
      <div class="my-3 p-3">
        <img src="amazon-logo.png" class="img-fluid pad-down" style="width: 50%;" alt="Responsive image">
        <h2 class="display-5"><h2 id="amazon_color";>$<span id="amazon_cost"></span>/hour</h2></h2>
        <h2 class="display-5"><span id="amazon_hours"></span> hours</h2>
        <h2 class="display-5">Global average: <span id="avg_amazon_hours"></span> hours</h2>
      </div>
    </div>
  </div>


  <footer class="container py-5">
    <div class="row">
      <div class="col-12 col-md">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="d-block mb-2">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="14.31" y1="8" x2="20.05" y2="17.94"></line>
          <line x1="9.69" y1="8" x2="21.17" y2="8"></line>
          <line x1="7.38" y1="12" x2="13.12" y2="2.06"></line>
          <line x1="9.69" y1="16" x2="3.95" y2="6.06"></line>
          <line x1="14.31" y1="16" x2="2.83" y2="16"></line>
          <line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>
        </svg>
        <small class="d-block mb-3 text-muted">&copy; 2017-2018</small>
      </div>
      <div class="col-6 col-md">
        <h5>Features</h5>
        <ul class="list-unstyled text-small">
          <li><a class="text-muted" href="#">Cool stuff</a></li>
          <li><a class="text-muted" href="#">Random feature</a></li>
          <li><a class="text-muted" href="#">Team feature</a></li>
          <li><a class="text-muted" href="#">Stuff for developers</a></li>
          <li><a class="text-muted" href="#">Another one</a></li>
          <li><a class="text-muted" href="#">Last time</a></li>
        </ul>
      </div>
      <div class="col-6 col-md">
        <h5>Resources</h5>
        <ul class="list-unstyled text-small">
          <li><a class="text-muted" href="#">Resource</a></li>
          <li><a class="text-muted" href="#">Resource name</a></li>
          <li><a class="text-muted" href="#">Another resource</a></li>
          <li><a class="text-muted" href="#">Final resource</a></li>
        </ul>
      </div>
      <div class="col-6 col-md">
        <h5>Resources</h5>
        <ul class="list-unstyled text-small">
          <li><a class="text-muted" href="#">Business</a></li>
          <li><a class="text-muted" href="#">Education</a></li>
          <li><a class="text-muted" href="#">Government</a></li>
          <li><a class="text-muted" href="#">Gaming</a></li>
        </ul>
      </div>
      <div class="col-6 col-md">
        <h5>About</h5>
        <ul class="list-unstyled text-small">
          <li><a class="text-muted" href="#">Team</a></li>
          <li><a class="text-muted" href="#">Locations</a></li>
          <li><a class="text-muted" href="#">Privacy</a></li>
          <li><a class="text-muted" href="#">Terms</a></li>
        </ul>
      </div>
    </div>
  </footer>


  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
  <script src="../../assets/js/vendor/popper.min.js"></script>
  <script src="../../dist/js/bootstrap.min.js"></script>
  <script src="../../assets/js/vendor/holder.min.js"></script>
  <script>
    Holder.addTheme('thumb', {
      bg: '#55595c',
      fg: '#eceeef',
      text: 'Thumbnail'
    });
  </script>
</body>
<script>
  //UV is user value based(will eventually be based on the users settings)
  //other variables are costs of various servises that could be changed based on what version of ther service the user has
  UV = 1;
  Ne = 8.99;
  H = 14.99;
  Hu = 5.99;
  YT = 11.99;
  Xf = 29.99;
  Cr = 7.99;
  Dp = 6.99;
  Ap = 4.99;
  Az = 12.99;
  Cost = Ne + H + Hu + YT + Xf + Cr + Dp + Ap + Az;
  //helper function that calculates avg value per time
  let calculate = (service, time) => {
    //creates defulat Cost(C) value
    let C = 1
    //finds C value based on which servie the average is being calculated for
    if (service == "Netflix") {
      C = Ne;
    }
    if (service == "HBO") {
      C = H;
    }
    if (service == "Hulu") {
      C = Hu;
    }
    if (service == "Youtube") {
      C = YT;
    }
    if (service == "Xfinity") {
      C = Xf;
    }
    if (service == "Crunchyroll") {
      C = Cr;
    }
    if (service == "DisneyPlus") {
      C = Dp;
    }
    if (service == "AppleTV") {
      C = Ap;
    }
    if (service == "AmazonPrime") {
      C = Az;
    }
    //calculates Average cost per time
    let avg = C / time;
    return avg.toFixed(2);
  }
  //helper functuin to find color Value based on avg compared to UV
  let getColor = (avg, UV) => {
    let Color = "#000000";
    if (avg > UV) {
      if (avg > (UV * 1.5)) Color = "#FF0000";
      else Color = "#FF7000";
    }
    else if (avg == UV) Color = "#FFFF00";
    else if (avg < UV) {
      if (avg > (UV * 0.5)) Color = "#70FF00";
      else Color = "#00FF00";
    }
    return Color;
  }
  //helper functuin to find fair bool based on avg compared to UV
  let getFair = (avg, UV) => {
    let Fair = true;
    if (avg > UV) Fair = false;
    return Fair;
  }
  //helper funciton to get the time value for each server
  let jsonInt = (json) => {
    return json["integerValue"]
  }
  //helper funciton to get the time value for each server
  let jsonString = (json) => {
    return json["stringValue"]
  }
  //funtion that Updates UI values
  let updateUI = (data) => {
    TotalTime = 0;
    console.log(data);
    //personal data for each subscription service that month
    Object.entries(data).forEach(([key, value]) => {
      TotalTime += parseInt(value.time);
    })
    //personal totals for the month
    document.getElementById("netflix_cost").innerHTML = data.Netflix.DollarsPerHour;
    document.getElementById("netflix_hours").innerHTML = data.Netflix.time;
    document.getElementById("netflix_color").style.color= data.Netflix.color;
    document.getElementById("Hulu_cost").innerHTML = data.Hulu.DollarsPerHour;
    document.getElementById("hulu_hours").innerHTML = data.Hulu.time;
    document.getElementById("hulu_color").style.color= data.Hulu.color;
    // document.getElementById("youtube_cost").innerHTML = data.Youtube.DollarsPerHour;
    // document.getElementById("youtube_hours").innerHTML = data.Youtube.time;
    // document.getElementById("youtube_color").style.color= data.Youtube.color;
    document.getElementById("HBO_cost").innerHTML = data.HBO.DollarsPerHour;
    document.getElementById("HBO_hours").innerHTML = data.HBO.time;
    document.getElementById("HBO_color").style.color= data.HBO.color;
    // document.getElementById("apple_cost").innerHTML = data.AppleTV.DollarsPerHour;
    // document.getElementById("apple_hours").innerHTML = data.AppleTV.time;
    // document.getElementById("apple_color").style.color= data.AppleTV.color;
    // document.getElementById("disney_cost").innerHTML = data.DisneyPlus.DollarsPerHour;
    // document.getElementById("disney_hours").innerHTML = data.DisneyPlus.time;
    // document.getElementById("disney_color").style.color= data.DisneyPlus.color;
    // document.getElementById("Crunchyroll_cost").innerHTML = data.Crunchyroll.DollarsPerHour;
    // document.getElementById("Crunchyroll_hours").innerHTML = data.Crunchyroll.time;
    // document.getElementById("Crunchyroll_color").style.color= data.Crunchyroll.color;
    // document.getElementById("xfinity_cost").innerHTML = data.Xfinity.DollarsPerHour;
    // document.getElementById("xfinity_hours").innerHTML = data.Xfinity.time;
    // document.getElementById("xfinity_color").style.color= data.Xfinity.color;
    // document.getElementById("amazon_cost").innerHTML = data.AmazonPrime.DollarsPerHour;
    // document.getElementById("amazon_hours").innerHTML = data.AmazonPrime.time;
    // document.getElementById("amazon_color").style.color= data.AmazonPrime.color;
    
    document.getElementById("Cost").innerHTML = Cost.toFixed(2);
    document.getElementById("avgCost").innerHTML = (Cost / TotalTime).toFixed(2);
    document.getElementById("avg_color").style.color= getColor((Cost / TotalTime).toFixed(2),UV);
  }

  fetch('https://firestore.googleapis.com/v1/projects/subsaverdotspace/databases/(default)/documents/user_data/dylan/')
    //grabs json data from servier
    .then((data) => {
      return data.json();
    })
    .then((json) => {
      // accsesses dara in json file
      let data = json["fields"];
      //finds specific times for each site
      let HBO = jsonInt(data["time_hbo"]);
      let Hulu = jsonInt(data["time_hulu"]);
      let Netflix = jsonInt(data["time_netflix"]);
      // let Youtube = jsonInt(data["time_youtube"]);
      // let Xfinity = jsonInt(data["time_xfinity"]);
      // let Crunchyroll = jsonInt(data["time_crunchyroll"]);
      // let DisneyPlus = jsonInt(data["time_disneyplus"]);
      // let AppleTV = jsonInt(data["time_appletv"]);
      // let AmazonPrime = jsonInt(data["time_amazonprime"]);
      //finds global values 
      let GHBO = jsonInt(data["global_hbo"]);
      let GHulu = jsonInt(data["global_hulu"]);
      let GNetflix = jsonInt(data["global_netflix"]);
      // let GYoutube = jsonInt(data["global_youtube"]);
      // let GXfinity = jsonInt(data["global_xfinity"]);
      // let GCrunchyroll = jsonInt(data["global_crunchyroll"]);
      // let GDisneyPlus = jsonInt(data["global_disneyplus"]);
      // let GAppleTV = jsonInt(data["global_appletv"]);
      // let GAmazonPrime = jsonInt(data["global_amazonprime"]);
      //gets name and sends it to UI
      let Name = jsonString(data["name"]);
      document.getElementById("name").innerHTML = Name
      //creates new json dictonary of values for websites and returns that
      //json for global data to be sent to UI
      let globe = {
        "Netflix": GNetflix,
        "HBO": GHBO,
        "Hulu": GHulu,
        // "Youtube":GYoutube,
        // "Xfinity":GXfinity,
        // "Crunchyroll":GCrunchyroll,
        // "DisneyPlus":GDisneyPlus,
        // "AppleTV":GAppleTV,
        // "AmazonPrime":GAmazonPrime,
      }
      console.log(globe);
      //sending global avg to UI
      document.getElementById("avg_netflix_hours").innerHTML = globe.Netflix
      document.getElementById("avg_hulu_hours").innerHTML = globe.Hulu
      document.getElementById("avg_HBO_hours").innerHTML = globe.HBO
      document.getElementById("avg_youtube_hours").innerHTML = globe.Youtube
      document.getElementById("avg_xfinity_hours").innerHTML = globe.Xfinity
      document.getElementById("avg_Crunchyroll_hours").innerHTML = globe.Crunchyroll
      document.getElementById("avg_disney_hours").innerHTML = globe.DisneyPlus
      document.getElementById("avg_apple_hours").innerHTML = globe.AppleTV
      document.getElementById("avg_amazon_hours").innerHTML = globe.AmazonPrime
      //json for personal data
      let res = {
        "Netflix": Netflix,
        "HBO": HBO,
        "Hulu": Hulu,
        // "Youtube":Youtube,
        // "Xfinity":Xfinity,
        // "Crunchyroll":Crunchyroll,
        // "DisneyPlus":DisneyPlus,
        // "AppleTV":AppleTV,
        // "AmazonPrime":AmazonPrime,
      };
      return res;
    })
    .then((res) => {
      //creating new json to hold newer values
      let UI = {};
      //calculates averages, keep/cancel, and color for each element in the Dictonary
      Object.entries(res).forEach(([key, value]) => {
        //creates temp json to hold temp values before being added to full UI json
        let temp = {}
        temp["time"] = value;
        //calculates avg value per time
        //decides if subscription is good or bad value
        //sends Hex value color code depending on how close it is to baseline
        let avg = calculate(key, value);
        temp["DollarsPerHour"] = avg;
        temp["color"] = getColor(avg, UV);
        temp["Fair"] = getFair(avg, UV);
        //###############################################################################################################
        //old code that sends values to console log
        //
        //
        // if (avg > UV) {
        //     if (avg > (UV * 1.5)) console.log(key + ':$' + avg.toFixed(2) + " per hour: Not Fair" + " | Color: #FF0000");
        //     else console.log(key + ':$' + avg.toFixed(2) + " per hour: Not Fair" + " | Color: #FF7000");
        // }
        // else if (avg == UV) console.log(key + ':$' + avg.toFixed(2) + " per hour: Fair" + " | Color: #FFFF00");
        // else if (avg < UV) {
        //     if (avg > (UV * 0.5)) console.log(key + ':$' + avg.toFixed(2) + " per hour: Fair" + " | Color: #70FF00");
        //     else console.log(key + ':$' + avg.toFixed(2) + " per hour: Fair" + " | Color: #00FF00");
        // }
        //
        //###############################################################################################################

        UI[key] = temp
      })
      return UI;
    })
    //sends UI json to be updated to the website UI
    .then((UI) => {
      updateUI(UI)
    })
</script>

</html>