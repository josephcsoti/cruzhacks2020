<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <script>
        let calculate=(service, time) =>{
            //creates defulat Cost(C) value
            let C= 1
            //finds C value based on which servie the average is being calculated for
            if (service =="Netflix"){
                C=8.99;
            }
            if (service=="HBO"){
                C=14.99;
            }
            if (service=="Hulu"){
                C=5.99;
            }
            //calculates Average cost per time
            let avg = C/time;
            //decides if subscription is good or bad value
            //using $1 per hour as temporary baseline for good
            if (avg > 1) return (avg,False);
            else return (avg,True);
        }

        fetch('http://example.com')
        //grabs json data from servier
            .then((data) => {
                return data.json();
            })
            .then((json) => {
                //finds specific times for each site
                let Netflix = json["netflix"]["time"]
                let HBO = json["HBO"]["time"]
                let Hulu = json["HULU"]["time"]
                //creates new json dictonary of values for websites and returns that
                let res = {
                    "Netflix": Netflix,
                    "HBO": HBO,
                    "Hulu": Hulu
                };

                return res;
            })
            .then((res) => {
                //calculates averages and keep/cancel for each element in the Dictonary
                res.forEach((ele) => {
                    let (avg, keep) = calculate(ele)
                });

            })
    </script>
</body>

</html>